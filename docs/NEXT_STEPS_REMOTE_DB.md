# üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

1. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–æ–¥—É–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - `src/remote_db_connector.py`
   - READ-ONLY —Ä–µ–∂–∏–º (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (UPDATE, DELETE, INSERT –∏ —Ç.–¥.)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –¢–∞–π–º–∞—É—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –∑–∞–ø—Ä–æ—Å–æ–≤

2. ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç** - `scripts/test_remote_connection.py`
   - 6 —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

3. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - `docs/SERVER_SETUP_INSTRUCTIONS.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
   - `docs/SERVER_SETUP_QUICK_COMMANDS.txt` - –±—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã
   - `docs/REMOTE_DB_SAFETY_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

4. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - `config/remote_db.env.example`

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°

### –®–ê–ì 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–ù–ê –°–ï–†–í–ï–†–ï) ‚ö°

**–í—Ä–µ–º—è: ~10-15 –º–∏–Ω—É—Ç**

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ RDP:**
   ```
   –ê–¥—Ä–µ—Å: 85.114.224.45:7707
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: USER-PC\Ivan
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**

3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ñ–∞–π–ª–∞:**
   ```
   docs/SERVER_SETUP_QUICK_COMMANDS.txt
   ```

   **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
   
   ```powershell
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Firebird
   Get-Service | Where-Object {$_.DisplayName -like "*Firebird*"}
   
   # –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç 3050
   New-NetFirewallRule -DisplayName "Firebird Server - Port 3050" -Direction Inbound -LocalPort 3050 -Protocol TCP -Action Allow -Profile Any
   
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç —Å–ª—É—à–∞–µ—Ç—Å—è
   netstat -an | findstr "3050"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:**
   ```powershell
   Test-NetConnection -ComputerName 85.114.224.45 -Port 3050
   ```
   
   ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `TcpTestSucceeded : True`

---

### –®–ê–ì 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ù–ê –í–ê–®–ï–ú –ö–û–ú–ü–¨–Æ–¢–ï–†–ï)

**–í—Ä–µ–º—è: ~2 –º–∏–Ω—É—Ç—ã**

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   ```bash
   copy config\remote_db.env.example config\remote_db.env
   ```

2. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/remote_db.env`:**
   
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   ```env
   REMOTE_DB_HOST=85.114.224.45
   REMOTE_DB_PORT=3050
   REMOTE_DB_PATH=G:\–ì—Ä–∞–Ω–∏—Ç\GRANITDB\GEORGIA.GDB
   REMOTE_DB_USER=SYSDBA
   REMOTE_DB_PASSWORD=masterkey  # –ò–∑–º–µ–Ω–∏—Ç–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   
   REMOTE_READ_ONLY=True  # –ù–ï –ú–ï–ù–Ø–ô–¢–ï!
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore` (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç):**
   ```
   config/remote_db.env
   ```

---

### –®–ê–ì 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–í—Ä–µ–º—è: ~3-5 –º–∏–Ω—É—Ç**

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:**
   ```bash
   python scripts/test_remote_connection.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   
   ‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã:**
   ```
   ‚úÖ OK     | –ë–∞–∑–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
   ‚úÖ OK     | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ë–î
   ‚úÖ OK     | –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
   ‚úÖ OK     | –°–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤
   ‚úÖ OK     | –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö
   ‚úÖ OK     | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   
   –ü–û–ó–î–†–ê–í–õ–Ø–Æ! –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!
   ```

3. **–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ù–ï –ø—Ä–æ—à–ª–∏:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `logs/coffee_analysis_YYYY-MM-DD.log`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–®–∞–≥ 1)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–®–∞–≥ 2)
   - –°–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –Ω–∏–∂–µ

---

### –®–ê–ì 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

**–í—Ä–µ–º—è: ~30-60 –º–∏–Ω—É—Ç**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å GUI:

1. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `src/gui_app.py`:**
   - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞: "–õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î" / "–£–¥–∞–ª–µ–Ω–Ω–∞—è –ë–î"
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `RemoteDatabaseConnector` –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î

2. **–°–æ–∑–¥–∞—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   - –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∏–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: TcpTestSucceeded: False

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ü–æ—Ä—Ç 3050 –Ω–µ –æ—Ç–∫—Ä—ã—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- Windows Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç
- –†–æ—É—Ç–µ—Ä –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç
- Firebird Server –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª—É–∂–±—É Firebird
   ```powershell
   Get-Service | Where-Object {$_.DisplayName -like "*Firebird*"}
   ```

2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç —Å–ª—É—à–∞–µ—Ç—Å—è
   ```powershell
   netstat -an | findstr "3050"
   ```

3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –ø—Ä–∞–≤–∏–ª–æ
   ```powershell
   Get-NetFirewallRule -DisplayName "Firebird Server - Port 3050"
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```
‚ùå Unable to complete network request to host "85.114.224.45"
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –ë–î: `G:\–ì—Ä–∞–Ω–∏—Ç\GRANITDB\GEORGIA.GDB`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –ë–î —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Permission denied

```
‚ùå No permission for read/select access to TABLE STORGRP
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SYSDBA
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ –ª–∏ –ë–î

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```
‚ùå Connection timeout
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –≤ `config/remote_db.env`:
   ```env
   REMOTE_CONNECTION_TIMEOUT=30
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏:
   ```bash
   ping 85.114.224.45
   ```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –≤ Python:

```python
from src.remote_db_connector import RemoteDatabaseConnector
from src.logger_config import setup_logger

logger = setup_logger()

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞
connector = RemoteDatabaseConnector()

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
success, message = connector.test_connection()
print(message)

if success:
    # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤
    df = connector.execute_query_to_dataframe(
        "SELECT FIRST 5 ID, NAME FROM STORGRP"
    )
    print(df)
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î —É—Å–ø–µ—à–Ω–æ!

   ID                NAME
0   1        –ú–∞–≥–∞–∑–∏–Ω ‚Ññ1
1   2        –ú–∞–≥–∞–∑–∏–Ω ‚Ññ2
...
```

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —Å —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç 3050 –æ—Ç–∫—Ä—ã—Ç)
- [ ] Test-NetConnection –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç True
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (`config/remote_db.env`)
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã (`test_remote_connection.py`)
- [ ] READ-ONLY —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ —Ç–µ—Å—Ç–∞—Ö)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å—Ç—å —Ñ–∞–π–ª –≤ `logs/`)
- [ ] –°–¥–µ–ª–∞–Ω backup —Ä–∞–±–æ—á–µ–π –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `logs/coffee_analysis_YYYY-MM-DD.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç: `python scripts/test_remote_connection.py`
3. –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
   - `docs/SERVER_SETUP_INSTRUCTIONS.md`
   - `docs/REMOTE_DB_SAFETY_GUIDE.md`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `config/remote_db.env`

---

## ‚ú® –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ö–æ–≥–¥–∞ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–°–æ–æ–±—â–∏—Ç–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö:**
   - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã? ‚úÖ
   - –ü–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω? ‚úÖ
   - –î–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è? ‚úÖ

2. **–Ø –ø–æ–º–æ–≥—É:**
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å GUI
   - –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç—ã –∏–∑ —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î
   - –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–£–î–ê–ß–ò –í –ù–ê–°–¢–†–û–ô–ö–ï!** üöÄ

